Index: libindi/libs/webcam/port.cpp
===================================================================
--- libindi.orig/libs/webcam/port.cpp	2014-07-18 10:42:07.084396085 +0200
+++ libindi/libs/webcam/port.cpp	2014-07-18 10:52:23.127472102 +0200
@@ -37,39 +37,13 @@
 #include <fcntl.h>
 #include <sys/stat.h>
 #endif /* LOCKING */
-#ifdef __linux__
-#if defined(arm) || defined(__hppa__) || defined(__sparc__) || defined(__ppc__) \
-	|| defined(__powerpc__) || defined(__s390__) || defined(__s390x__)\
-	|| defined(__mips__) || defined(__mc68000__) || defined(__sh__)
-#define NO_SYSIO
-#endif /* architechtures */
-#endif /* __linux__ */
 
-#ifdef __linux__
-  #if defined(NO_SYSIO)
-  #include <fcntl.h>
-  #else
-  #include <sys/io.h>
-  #endif /* NO_SYSIO */
-#elif defined(QNX)
-#include <conio.h>
-#elif defined(__FreeBSD__)
+#include "port.h"
+
+#if defined(__FreeBSD__)
 #include <sys/types.h>
-#include <machine/cpufunc.h>
-#elif defined(BSDI)
-#include <machine/inline.h>
-#elif defined(OPENBSD)
-#include <machine/pio.h>
-#elif defined(LYNX)
-#include "lynx-io.h"
-#elif defined(SOLARIS)
-#include "solaris-io.h"
-#else
-#error Please define a platform in the Makefile
 #endif /* which OS */
 
-#include "port.h"
-
 port_t::port_t(int iport) {
   port = -1;
 
Index: libindi/libs/webcam/port.h
===================================================================
--- libindi.orig/libs/webcam/port.h	2014-07-18 10:42:07.084396085 +0200
+++ libindi/libs/webcam/port.h	2014-07-18 10:56:37.157203428 +0200
@@ -36,7 +36,19 @@
 #include <unistd.h>
 
 #ifdef __linux__
-  #if !defined(arm) && !defined(__hppa__) && !defined(__sparc__) && !defined(__ppc__) && !defined(__powerpc__) && !defined(__s390__) && !defined(__s390x__) && !defined(__mips__) && !defined(__mc68000__)
+#if defined(arm) || defined(__hppa__) || defined(__sparc__) || defined(__ppc__) \
+	|| defined(__powerpc__) || defined(__s390__) || defined(__s390x__)\
+	|| defined(__mips__) || defined(__mc68000__) || defined(__sh__)\
+	|| defined(__aarch64__)
+#define NO_SYSIO
+#endif /* architechtures */
+#endif /* __linux__ */
+
+
+#ifdef __linux__
+  #if defined(NO_SYSIO)
+  #include <fcntl.h>
+  #else
   #include <sys/io.h>
   #endif /* !arm */
 #elif defined(QNX)
@@ -56,7 +68,7 @@
 #error Please define a platform in the Makefile
 #endif
 
-#if defined(arm) || defined(__hppa__) || defined(__sparc__) || defined(__ppc__) || defined(__powerpc__) || defined(__s390__) || defined(__s390x__) || defined(__mips__) || defined(__mc68000__)
+#if defined(NO_SYSIO)
 static char ports_temp;
 
 #ifdef inb
@@ -75,7 +87,7 @@
   ports_temp = data; \
   write(devport, &ports_temp, 1);
 
-#endif /* arm, hppa */
+#endif /* NO_SYSIO */
 
 class port_t {
 public:
@@ -115,7 +127,7 @@
 #ifdef FREEBSD
   FILE *devio;
 #endif
-#if defined(__linux__) && (defined(arm) || defined(__hppa__) || defined(__sparc__) || defined(__ppc__) || defined(__powerpc__) || defined(__s390__) || defined(__s390x__) || defined(__mips__) || defined(__mc68000__))
+#if defined(NO_SYSIO)
   int devport;
 #endif
 };
